// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: kiorga/datamodel/test_result_report.proto
syntax = "proto3";

package kiorga.datamodel;

import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

// Enum für den Gesamtstatus des Testlaufs
enum TestRunStatus {
  TEST_RUN_STATUS_UNSPECIFIED = 0;
  TEST_RUN_STATUS_PASSED = 1; // Alle Tests erfolgreich
  TEST_RUN_STATUS_FAILED = 2; // Mindestens ein Test fehlgeschlagen
  TEST_RUN_STATUS_COMPLETED_WITH_WARNINGS = 3; // Alle Tests durchgelaufen, aber es gab Warnungen
}

// Repräsentiert einen einzelnen, durchgeführten Testfall
message TestCaseResult {
  string testName = 1; // Name des Testfalls, z.B. "test_user_login_success"
  bool passed = 2; // True, wenn der Test erfolgreich war, sonst false
  google.protobuf.Duration duration = 3; // Wie lange der Test lief
  string details = 4; // Optionale Details, z.B. Fehlermeldung bei Fehlschlag
}

// Der formale Testbericht, den der QA-Agent erstellt.
message TestResultReport {
  string reportId = 1; // Eindeutige ID dieses Testberichts
  string taskId = 2; // Bezieht sich auf den ursprünglichen Task, der getestet wurde
  // Die Git Commit-ID des Quellcodes, der getestet wurde.
  string sourceCommitId = 3; // UM BENANNT für mehr Klarheit
  string qaaAgentId = 4; // ID des ausführenden QA-Agenten
  google.protobuf.Timestamp executionTimestamp = 5; // Wann wurden die Tests ausgeführt?
  TestRunStatus overallStatus = 6; // Das Gesamtergebnis
  int32 totalTestsRun = 7;
  int32 totalTestsPassed = 8;
  repeated TestCaseResult testCases = 9; // Eine Liste der Ergebnisse der einzelnen Testfälle
  string summary = 10; // Eine kurze Zusammenfassung in natürlicher Sprache
}